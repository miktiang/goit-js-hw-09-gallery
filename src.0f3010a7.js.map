{"version":3,"sources":["js/app.js","js/gallery.js","index.js"],"names":["preview","original","description","galleryOfImages","document","querySelector","imagesMarkup","createImages","galleryItems","images","map","join","insertAdjacentHTML","modalOpen","modalImage","addEventListener","onImageClick","idxOfOpenedImage","evt","target","classList","contains","add","findIndex","item","dataset","source","updateAttr","alt","window","onRightKeyClick","onLeftKeyClick","originalImagesLenght","length","keyCode","getData","index","data","onCloseBtnClick","closeModal","onOverlayClick","remove","removeEventListener","closeModalOnEscKeyClick","src"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;AC+Gd,aA/GD,IAAA,EAAA,EAAA,QAAA,aA+GC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3GD,MAAMC,EAAkBC,SAASC,cAAc,eACzCC,EAAeC,EAAaC,EAAD,SAIjC,SAASD,EAAaE,GACbA,OAAAA,EAAOC,IAAI,EAAEV,QAAAA,EAAQC,SAAAA,EAASC,YAAAA,2IAS1BF,0BACQC,kBACRC,6BAIRS,KAAK,IAlBVR,EAAgBS,mBAAmB,YAAaN,GAuBhD,MAAMO,EAAYT,SAASC,cAAc,aACnCS,EAAaV,SAASC,cAAc,oBAE1CF,EAAgBY,iBAAiB,QAASC,GAE1C,IAAIC,EAAmB,EAEvB,SAASD,EAAaE,GACjBA,EAAIC,OAAOC,UAAUC,SAAS,oBAKnCR,EAAUO,UAAUE,IAAI,WAGxBL,EAAmBT,EAAae,QAAAA,UAC/BC,GAASA,EAAKvB,WAAaiB,EAAIC,OAAOM,QAAQC,QAE/CC,EAAWT,EAAIC,OAAOM,QAAQC,OAAQR,EAAIC,OAAOS,KAGjDC,OAAOd,iBAAiB,UAAWe,GACnCD,OAAOd,iBAAiB,UAAWgB,IAGnC,MAAMC,EAAuBxB,EAAayB,QAAAA,OAAS,EAEnD,SAASH,EAAgBZ,GACL,KAAhBA,EAAIgB,SAAkBjB,EAAmBe,GAC7CG,EAASlB,GAAoB,GAI7B,SAASc,EAAeb,GACJ,KAAhBA,EAAIgB,SAAkBjB,EAAmB,GAC7CkB,EAASlB,GAAoB,GAI7B,SAASkB,EAAQC,GACXC,MAAAA,EAAO7B,EAAa4B,QAAAA,GAC1BT,EAAWU,EAAKpC,SAAUoC,EAAKnC,aAK/B,MAAMoC,EAAkBlC,SAASC,cAAc,qBAE/CiC,EAAgBvB,iBAAiB,QAASwB,GAI1C,MAAMC,EAAiBpC,SAASC,cAAc,sBAQ9C,SAASkC,IACT1B,EAAUO,UAAUqB,OAAO,WAC3BZ,OAAOa,oBAAoB,UAAWZ,GACtCD,OAAOa,oBAAoB,UAAWX,GAKtCJ,IAGA,SAASgB,EAAwBzB,GACb,KAAhBA,EAAIgB,SACRK,IAIA,SAASZ,EAAWiB,EAAM,GAAIhB,EAAM,IACpCd,EAAW8B,IAAMA,EACjB9B,EAAWc,IAAMA,EAzBjBY,EAAezB,iBAAiB,QAASwB,GAIzCV,OAAOd,iBAAiB,UAAW4B;;ACxFnC,aADA,QAAA,oBACA,QAAA","file":"src.0f3010a7.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","import galleryItems from \"./app.js\";\n\n// Создание и рендер разметки по массиву данных galleryItems из app.js и предоставленному шаблону.\n\nconst galleryOfImages = document.querySelector('.js-gallery');\nconst imagesMarkup = createImages(galleryItems);\n\ngalleryOfImages.insertAdjacentHTML(\"beforeend\", imagesMarkup);\n\nfunction createImages(images) {\n  return images.map(({preview,original,description}) =>\n  {\n    return `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"#\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>`\n  }).join('') \n};\n\n// Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\n\nconst modalOpen = document.querySelector(\".lightbox\");\nconst modalImage = document.querySelector(\".lightbox__image\");\n\ngalleryOfImages.addEventListener(\"click\", onImageClick);\n\nlet idxOfOpenedImage = 0;\n\nfunction onImageClick(evt) {\nif (!evt.target.classList.contains(\"gallery__image\")) {\nreturn;\n}\n// Открытие модального окна по клику на элементе галереи.\n\nmodalOpen.classList.add(\"is-open\");\n\n// Подмена значения атрибута src элемента img.lightbox__image.\nidxOfOpenedImage = galleryItems.findIndex(\n(item) => item.original === evt.target.dataset.source\n);\nupdateAttr(evt.target.dataset.source, evt.target.alt);\n// Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\n\nwindow.addEventListener(\"keydown\", onRightKeyClick);\nwindow.addEventListener(\"keydown\", onLeftKeyClick);\n}\n\nconst originalImagesLenght = galleryItems.length - 1;\n\nfunction onRightKeyClick(evt) {\nif (evt.keyCode === 39 && idxOfOpenedImage < originalImagesLenght) {\ngetData((idxOfOpenedImage += 1));\n}\n}\n\nfunction onLeftKeyClick(evt) {\nif (evt.keyCode === 37 && idxOfOpenedImage > 0) {\ngetData((idxOfOpenedImage -= 1));\n}\n}\n\nfunction getData(index) {\nconst data = galleryItems[index];\nupdateAttr(data.original, data.description);\n}\n\n// Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"].\n\nconst onCloseBtnClick = document.querySelector(\".lightbox__button\");\n\nonCloseBtnClick.addEventListener(\"click\", closeModal);\n\n// Закрытие модального окна по клику на overlay.\n\nconst onOverlayClick = document.querySelector(\".lightbox__overlay\");\n\nonOverlayClick.addEventListener(\"click\", closeModal);\n\n// Закрытие модального окна по клику на Esc.\n\nwindow.addEventListener(\"keydown\", closeModalOnEscKeyClick);\n\nfunction closeModal() {\nmodalOpen.classList.remove(\"is-open\");\nwindow.removeEventListener(\"keydown\", onRightKeyClick);\nwindow.removeEventListener(\"keydown\", onLeftKeyClick);\n\n// Очистка значения атрибута src элемента img.lightbox__image.\n// Это необходимо для того, чтобы при следующем открытии модального окна, пока грузится изображение, мы не видели предыдущее.\n\nupdateAttr();\n}\n\nfunction closeModalOnEscKeyClick(evt) {\nif (evt.keyCode === 27) {\ncloseModal();\n}\n}\n\nfunction updateAttr(src = \"\", alt = \"\") {\nmodalImage.src = src;\nmodalImage.alt = alt;\n}","import './sass/main.scss';\nimport './js/gallery'"]}